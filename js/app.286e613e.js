(function(){var e={2483:function(e,t){"use strict";t["Z"]={data(){return{asyncDataStatus_ready:!1}},methods:{asyncDataStatusChange(){this.asyncDataStatus_ready=!0,this.$emit("ready")}}}},9249:function(e,t,n){"use strict";function o(e,t){const n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],o=/\.0+$|(\.[0-9]*[1-9])0+$/;var i=n.slice().reverse().find((function(t){return e>=t.value}));return i?(e/i.value).toFixed(t).replace(o,"$1")+i.symbol:"0"}n.d(t,{Z:function(){return o}})},2397:function(e,t,n){"use strict";var o=n(9242),i=n(3396);const r={class:"font-sans"},s={class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},a=(0,i.Uk)("s ");function l(e,t,n,l,u,c){const d=(0,i.up)("TheNavbar"),m=(0,i.up)("prompt-p-w-a"),p=(0,i.up)("router-view"),h=(0,i.up)("AppSpinner");return(0,i.wg)(),(0,i.iD)("span",r,[(0,i.Wm)(d),(0,i.Wm)(m),(0,i.wy)(((0,i.wg)(),(0,i.j4)(p,{key:`${e.$route.path}${JSON.stringify(e.$route.query)}`,onReady:c.ChangeIsLoading},null,8,["onReady"])),[[o.F8,u.show]]),(0,i.wy)((0,i._)("span",s,[(0,i.Wm)(h)],512),[[o.F8,!u.show]]),a])}const u={class:"pd-0 m-0 w-full h-16 bg-black_main flex items-center"},c={class:"p-0"},d=(0,i._)("p",{class:"text-2xl text-white_main"},"ViewTube",-1);function m(e,t,n,o,r,s){const a=(0,i.up)("hamburger_icon");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("div",c,[(0,i.Wm)(a,{onShowing:t[0]||(t[0]=e=>o.isShowing=!o.isShowing)})]),d])}var p=n(4870),h=n(7139);const f={class:"relative py-1 sm:max-w-xl mx-auto"},v={class:"block w-5 absolute left-6 top-1/2 transform -translate-x-1/2 -translate-y-1/2"};function g(e,t,n,r,s,a){const l=(0,i.up)("drop_down"),u=(0,i.Q2)("click-outside");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",f,[(0,i._)("button",{class:"w-14 h-14 focus:outline-none bg-black_main rounded",onClick:t[0]||(t[0]=(...e)=>a.changeShowing&&a.changeShowing(...e))},[(0,i._)("div",v,[(0,i._)("span",{class:(0,h.C_)(["block absolute h-0.5 w-7 text-white bg-current transform transition duration-500 ease-in-out",{"rotate-45":s.isShowing," -translate-y-1.5":!s.isShowing}])},null,2),(0,i._)("span",{class:(0,h.C_)(["block absolute h-0.5 w-7 text-white bg-current transform transition duration-500 ease-in-out",{"opacity-0":s.isShowing}])},null,2),(0,i._)("span",{class:(0,h.C_)(["block absolute h-0.5 w-7 text-white bg-current transform transition duration-500 ease-in-out",{"-rotate-45":s.isShowing," translate-y-1.5":!s.isShowing}])},null,2)])])])),[[u,()=>a.outsideClick()]]),(0,i.Wm)(o.uT,null,{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(l,null,null,512),[[o.F8,s.isShowing]])])),_:1})],64)}const b=e=>((0,i.dD)("data-v-577966aa"),e=e(),(0,i.Cn)(),e),w={class:"upper h-full w-52 bg-black_main absolute left-0 flex flex-col"},y=b((()=>(0,i._)("p",{class:"text-white_main mr-2 text-2xl"},"Home",-1))),_=b((()=>(0,i._)("p",{class:"text-white_main mr-2 text-2xl"},"About",-1)));function k(e,t,n,o,r,s){const a=(0,i.up)("fa"),l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",w,[(0,i.Wm)(l,{to:"/",class:"py-4 grid grid-cols-2 gap-3 hover:bg-gray-900"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{size:"2x",class:"mx-4 text-white_main dark:md:hover:bg-grey_main",icon:"home"}),y])),_:1}),(0,i.Wm)(l,{to:"/about",class:"py-4 grid grid-cols-2 gap-3 content-end hover:bg-gray-900"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{size:"2x",class:"mx-6 text-white_main dark:md:hover:bg-grey_main",icon:"question"}),_])),_:1})])}var x={name:"drop_down",setup(){return{}}},S=n(89);const C=(0,S.Z)(x,[["render",k],["__scopeId","data-v-577966aa"]]);var P=C,A={name:"hamburger_icon",components:{drop_down:P},data(){return{isShowing:!1}},methods:{changeShowing(){this.$emit("showing"),this.isShowing=!this.isShowing},outsideClick(){this.isShowing=!1}}};const D=(0,S.Z)(A,[["render",g],["__scopeId","data-v-7cba7fd8"]]);var O=D,E={name:"TheNavbar",components:{hamburger_icon:O},setup(){const e=(0,p.iH)(!1);return{isShowing:e}}};const $=(0,S.Z)(E,[["render",m]]);var j=$,I=n(8543);const N={key:0,class:"text-white_main text-1xl"},L=(0,i._)("p",null,"Add app to home screen?",-1);function W(e,t,n,o,r,s){return r.shown?((0,i.wg)(),(0,i.iD)("div",N,[L,(0,i._)("button",{class:"bg-green-500 hover:bg-green-700 mx-1 text-white font-bold py-2 px-4 rounded-full",onClick:t[0]||(t[0]=(...e)=>s.installPWA&&s.installPWA(...e))}," Install! "),(0,i._)("button",{class:"bg-red-500 hover:bg-red-700 mx-1 text-white font-bold py-2 px-4 rounded-full",onClick:t[1]||(t[1]=(...e)=>s.dismissPrompt&&s.dismissPrompt(...e))}," No, thanks ")])):(0,i.kq)("",!0)}var F={data(){return{shown:!1}},mounted(){window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),this.installEvent=e,this.shown=!0}))},methods:{dismissPrompt(){this.shown=!1},installPWA(){this.installEvent.prompt(),this.installEvent.userChoice.then((e=>{this.dismissPrompt(),e.outcome}))}}};const T=(0,S.Z)(F,[["render",W]]);var Z=T,M={components:{PromptPWA:Z,AppSpinner:I["default"],TheNavbar:j},data(){return{show:!1,justMounted:!1}},mounted(){this.justMounted=!0},methods:{ChangeIsLoading(){this.show=!0}},watch:{$route(){this.show=!1}}};const q=(0,S.Z)(M,[["render",l]]);var z=q,H=n(5431);(0,H.z)("/view-tube/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var R=n(678);const U={class:"flex flex-col"};function V(e,t,n,o,r,s){const a=(0,i.up)("search_bar"),l=(0,i.up)("SearchResults");return(0,i.wg)(),(0,i.iD)("span",U,[(0,i.Wm)(a,{class:"justify-center"}),e.asyncDataStatus_ready?((0,i.wg)(),(0,i.j4)(l,{key:0,results:s.channels_and_movies},null,8,["results"])):(0,i.kq)("",!0)])}var Y=n(2483),B=n(4150);const G={class:"p-2 hover:cursor-pointer text-white_main",type:"submit"};function J(e,t,n,r,s,a){const l=(0,i.up)("fa");return(0,i.wg)(),(0,i.iD)("form",{class:"p-4 flex",onSubmit:t[1]||(t[1]=(0,o.iM)((e=>a.searchFor(s.query)),["prevent"]))},[(0,i.wy)((0,i._)("input",{type:"search",class:"border-none p-2 text-2xl rounded focus:outline-none w-10/12",placeholder:"Look for a movie...","onUpdate:modelValue":t[0]||(t[0]=e=>s.query=e)},null,512),[[o.nr,s.query]]),(0,i._)("button",G,[(0,i.Wm)(l,{size:"2x",icon:"search"})])],32)}var K={name:"search_bar",data(){return{query:"",searching:!1}},methods:{async searchFor(e){this.$store.commit("purgeState",{toPurge:"movies"}),this.query="",await this.$store.dispatch("getListOfMovies",{link:`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${e}&type=film&key=${this.$store.state.API_key}`})}}};const Q=(0,S.Z)(K,[["render",J]]);var X=Q,ee={name:"HomeView",components:{SearchResults:B.Z,search_bar:X},mixins:[Y.Z],data(){return{}},computed:{channels_and_movies(){return this.$store.state.movies}},async created(){this.$store.commit("purgeState",{toPurge:"movies"}),await this.$store.dispatch("getListOfMovies",{link:`https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&regionCode=US&key=${this.$store.state.API_key}`}),this.asyncDataStatusChange()}};const te=(0,S.Z)(ee,[["render",V]]);var ne=te,oe=n(65),ie=n(6265),re=n.n(ie),se=(0,oe.MT)({state:{currentFilm:{},movies:[],users:[],API_key:"AIzaSyAjyPD5EUPBCypfL3G46ZVDWrDaR0IfcLM"},getters:{},mutations:{changeCurrentFilm(e,{film:t}){e.currentFilm=t},setInState(e,{elem:t,location:n}){e[n].push(t)},purgeState(e,{toPurge:t}){e[t]=[]}},actions:{async getMovieDetails({state:e,commit:t},{id:n,getCurrent:o=!1}){try{const i=await re().get(`https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=${n}&key=${e.API_key}`);if(void 0===i.data.items[0])return;const r={id:n,publishedAt:i.data.items[0].snippet.publishedAt,channelId:i.data.items[0].snippet.channelId,title:i.data.items[0].snippet.title,filmPhoto:i.data.items[0].snippet.thumbnails.medium.url,description:i.data.items[0].snippet.description,statistics:i.data.items[0].statistics},s=await re().get(`https://youtube.googleapis.com/youtube/v3/channels?part=snippet%2CcontentDetails%2Cstatistics&id=${r.channelId}&key=${e.API_key}`);o&&t("changeCurrentFilm",{film:{...r,channelName:s.data.items[0].snippet.title,channelPhoto:s.data.items[0].snippet.thumbnails.high.url}}),t("setInState",{elem:{...r,channelName:s.data.items[0].snippet.title,channelPhoto:s.data.items[0].snippet.thumbnails.high.url},location:"movies"})}catch(i){console.error(i)}},async getListOfMovies({dispatch:e},{link:t}){let n="";await re().get(t).then((e=>{n=e.data.items})),await Promise.all(n.map((async function(t){let n=t.id?.videoId?t.id?.videoId:t.id;await e("getMovieDetails",{id:n})})))}},modules:{}});const ae=[{path:"/",name:"home",component:ne},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,7381))},{path:"/movie/:id",component:()=>n.e(759).then(n.bind(n,2759)),name:"watch",props:!0}],le=(0,R.p7)({history:(0,R.PO)("/view-tube/"),routes:ae});le.beforeEach((()=>{se.commit("purgeState",{toPurge:"movies"})}));var ue=le,ce=n(7749),de=n(8125),me=n(8321),pe=n(2234),he=n(2722),fe=n.n(he),ve=n(890),ge=n.n(ve);const be={mounted(e,t){e.__clickOutsideHandler__=n=>{e===n.target||e.contains(n.target)||t.value(n)},document.body.addEventListener("click",e.__clickOutsideHandler__)},unmounted(e){document.body.removeEventListener("click",e.__clickOutsideHandler__)}};var we=e=>{e.directive("click-outside",be)};de.vI.add(me.xiG,pe.zhw,me.J9Y,me.Psp,me.wn1,me.m6i,me.Mdf);const ye=(0,o.ri)(z),_e=n(1924);_e.keys().forEach((function(e){let t=_e(e);t=t.default||t;const n=t.name||e.replace(/^.+\//,"").replace(/\.\w+$/,"");ye.component(n,t)})),ye.use(se).use(ue).use(ge()).use(we).component("yt",fe()).component("fa",ce.GN).mount("#app")},8543:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o=n(3396);const i=e=>((0,o.dD)("data-v-19a0e7e9"),e=e(),(0,o.Cn)(),e),r={class:"lds-roller"},s=i((()=>(0,o._)("div",null,null,-1))),a=i((()=>(0,o._)("div",null,null,-1))),l=i((()=>(0,o._)("div",null,null,-1))),u=i((()=>(0,o._)("div",null,null,-1))),c=i((()=>(0,o._)("div",null,null,-1))),d=i((()=>(0,o._)("div",null,null,-1))),m=i((()=>(0,o._)("div",null,null,-1))),p=i((()=>(0,o._)("div",null,null,-1))),h=[s,a,l,u,c,d,m,p];function f(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",r,h)}var v={name:"AppSpinner"},g=n(89);const b=(0,g.Z)(v,[["render",f],["__scopeId","data-v-19a0e7e9"]]);var w=b},4150:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var o=n(3396),i=n(7139);function r(e,t,n,r,s,a){const l=(0,o.up)("YtVideoListElem");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.results,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"text-white_main ml-3",key:t},[(0,o.Wm)(l,{class:(0,i.C_)(a.classObject(n.results,t)),film:e},null,8,["class","film"])])))),128)}const s=["src"],a={class:""},l={class:"grid grid-cols-1"},u={class:"mb-2 text-base w-96 font-bold tracking-tight text-white_main dark:text-white"},c={class:"bottom-0 my-4 grid grid-cols-3"},d={class:"flex flex-col"},m={class:"text-white_main"},p={class:"flex flex-col"},h={class:"text-white_main"},f={class:"flex flex-col items-center"},v=["src"],g={class:"text-white_main"};function b(e,t,n,r,b,w){const y=(0,o.up)("fa"),_=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(_,{to:`/movie/${r.createLink(r.movie)}`,class:"flex flex-col items-center bg-gray-800 border-b-2 border-black_main shadow-md md:flex-row sm:w-2/3 w-96 sm:m-auto hover:bg-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700"},{default:(0,o.w5)((()=>[(0,o._)("img",{class:"p-2 object-contain aspect-video",src:r.movie.filmPhoto,alt:""},null,8,s),(0,o._)("div",a,[(0,o._)("span",l,[(0,o._)("h5",u,(0,i.zw)(r.movie.title),1),(0,o._)("span",c,[(0,o._)("span",d,[(0,o.Wm)(y,{icon:"heart",class:"text-red-500",size:"2x"}),(0,o._)("label",m,(0,i.zw)(r.formatNumber(r.movie.likeCount)),1)]),(0,o._)("span",p,[(0,o.Wm)(y,{icon:"eye",class:"text-white_main",size:"2x"}),(0,o._)("label",h,(0,i.zw)(r.formatNumber(r.movie.viewCount)),1)]),(0,o._)("span",f,[(0,o._)("img",{class:"rounded-full w-12",src:r.movie.channelPhoto},null,8,v),(0,o._)("label",g,(0,i.zw)(r.movie.channelName),1)])])])])])),_:1},8,["to"])}var w=n(9249),y={name:"YtVideoListElem",props:{film:{type:Object}},setup(e){const t=e=>(0,w.Z)(e,1),n=(0,o.Fl)((()=>({...e.film,...e.film.statistics}))),i=e=>e.id.videoId?e.id.videoId:e.id;return{movie:n,createLink:i,formatNumber:t}}},_=n(89);const k=(0,_.Z)(y,[["render",b]]);var x=k,S={name:"SearchResults",components:{YtVideoListElem:x},props:{results:Array},methods:{classObject(e,t){return{"rounded-t-lg":0===t,"rounded-b-lg":e.length-1===t}}}};const C=(0,_.Z)(S,[["render",r]]);var P=C},1924:function(e,t,n){var o={"./AppSpinner.vue":8543};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=1924}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],r=e[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(a=!1,r<s&&(s=r));if(a){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(443===e?"about":e)+"."+{443:"3f379909",759:"3a2eac30"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".349a0c6b.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="view-tube:";n.l=function(o,i,r,s){if(e[o])e[o].push(i);else{var a,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+r){a=d;break}}a||(l=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+r),a.src=o),e[o]=[i];var m=function(t,n){a.onerror=a.onload=null,clearTimeout(p);var i=e[o];if(delete e[o],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/view-tube/"}(),function(){var e=function(e,t,n,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var r=function(r){if(i.onerror=i.onload=null,"load"===r.type)n();else{var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,i.parentNode.removeChild(i),o(l)}};return i.onerror=i.onload=r,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=n[o],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){i=s[o],r=i.getAttribute("data-href");if(r===e||r===t)return i}},o=function(o){return new Promise((function(i,r){var s=n.miniCssF(o),a=n.p+s;if(t(s,a))return i();e(o,a,i,r)}))},i={143:0};n.f.miniCss=function(e,t){var n={759:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise((function(n,o){i=e[t]=[n,o]}));o.push(i[2]=r);var s=n.p+n.u(t),a=new Error,l=function(o){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,i[1](a)}};n.l(s,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,s=o[0],a=o[1],l=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var c=l(n)}for(t&&t(o);u<s.length;u++)r=s[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},o=self["webpackChunkview_tube"]=self["webpackChunkview_tube"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2397)}));o=n.O(o)})();
//# sourceMappingURL=app.286e613e.js.map